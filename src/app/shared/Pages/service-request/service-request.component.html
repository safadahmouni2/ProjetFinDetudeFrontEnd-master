<div class="flex flex-col flex-auto min-w-0">

    <!-- Header -->


    <!-- Main -->
    <div class="flex flex-auto justify-center w-full max-w-5xl mx-auto p-6 sm:p-8">

        <!-- Column -->
        <div class="hidden lg:flex flex-col items-start mr-8">

            <!-- About me -->
            <fuse-card class="flex flex-col max-w-80 w-full p-8"
                       [flippable]="true"
                       [face]="'front'"
                       #flippableCard01="fuseCard">
                <ng-container fuseCardFront >
                    <div class="flex flex-col flex-auto items-center bg-card shadow rounded-xl overflow-hidden">
                        <button
                            class="px-3"
                            mat-button
                            [color]="'primary'"
                            (click)="flippableCard01.face = flippableCard01.face === 'front' ? 'back' : 'front'">
                            A propos de moi
                        </button>

                        <div class="flex flex-col flex-auto w-full p-8 text-center">


                            <div class="w-32 h-32 mx-auto rounded-full overflow-hidden">
                                <ng-container *ngIf="user.picture">
                                    <img
                                        class="object-cover w-full h-full"
                                        [src]="sanitizer.bypassSecurityTrustUrl('data:image/jpg;base64,'+ user.picture )"
                                        alt=""/>
                                </ng-container>
                                <ng-container *ngIf="!user.picture">
                                    <div class="flex items-center justify-center w-full h-full rounded-full text-lg uppercase bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200">
                                        {{user.first_name.charAt(0)}}
                                    </div>
                                </ng-container>
                            </div>
                            <div class="mt-6 font-medium">{{user.first_name}} {{user.name_user}}</div>

                            <div class="mt-4">
                                {{user.description}} </div>
                            <hr class="w-full border-t my-6">
                            <div class="flex items-center">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:location-marker'"></mat-icon>
                                <span class="leading-none">{{user.pays}}</span>
                            </div>
                            <div class="flex items-center mt-4">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:briefcase'"></mat-icon>
                                <span class="leading-none">{{userData.title}}</span>
                            </div>



                        </div>

                    </div>
                </ng-container>
                <ng-container fuseCardBack >
                    <div class="flex flex-col flex-auto items-center bg-card shadow rounded-xl overflow-hidden">
                        <button
                            class="ml-1.5"
                            mat-icon-button
                            (click)="flippableCard01.face = flippableCard01.face === 'front' ? 'back' : 'front'">
                            <mat-icon [svgIcon]="'heroicons_outline:arrow-narrow-left'"></mat-icon>
                        </button>

                        <div class="flex flex-col flex-auto w-full p-8 text-center">


                            <div class="w-10 h-10 mx-auto rounded-full overflow-hidden">
                                <ng-container *ngIf="user.picture">
                                    <img
                                        class="object-cover w-full h-full"
                                        [src]="sanitizer.bypassSecurityTrustUrl('data:image/jpg;base64,'+ user.picture )"
                                        alt=""/>
                                </ng-container>
                                <ng-container *ngIf="!user.picture">
                                    <div class="flex items-center justify-center w-full h-full rounded-full text-lg uppercase bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200">
                                        {{user.first_name.charAt(0)}}
                                    </div>
                                </ng-container>
                            </div>
                            <div class="mt-6 font-medium">{{user.first_name}} {{user.name_user}}</div>
                            <div class="mt-4">
                                {{user.description}} </div>
                            <hr class="w-full border-t my-6">
                            <div class="flex items-center">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:location-marker'"></mat-icon>
                                <span class="leading-none">{{user.pays}}</span>
                            </div>
                            <div class="flex items-center mt-4">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:briefcase'"></mat-icon>
                                <span class="leading-none">{{userData.title}}</span>
                            </div>
                            <div class="flex items-center mt-4">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:cake'"></mat-icon>
                                <span class="leading-none">{{userData.date_birth|date:'dd-MM-yyyy'}}</span>
                            </div>
                            <div class="flex items-center mt-4">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:mail'"></mat-icon>
                                <span class="leading-none">{{userData.email}}</span>
                            </div>  <div class="flex items-center mt-4">
                            <mat-icon
                                class="icon-size-5 mr-3"
                                [svgIcon]="'heroicons_solid:phone'"></mat-icon>
                            <span class="leading-none">{{userData.phone}}</span>
                        </div>  <div class="flex items-center mt-4">
                            <mat-icon
                                class="icon-size-5 mr-3"
                                [svgIcon]="'heroicons_solid:user-circle'"></mat-icon>
                            <span class="leading-none">{{userData.gender}}</span>
                        </div>  <div class="flex items-center mt-4">
                            <mat-icon
                                class="icon-size-5 mr-3"
                                [svgIcon]="'heroicons_solid:user-circle'"></mat-icon>
                            <span class="leading-none">{{userData.age}}</span>
                        </div>

                        </div>

                    </div>
                </ng-container>

            </fuse-card>
            <!-- Groups -->

            <fuse-card class="flex flex-col max-w-80 w-full mt-8 px-8 pt-6 pb-4">
                <div class="flex items-center justify-between">
                    <div class="text-2xl font-semibold leading-tight">Publications</div>
                    <div class="-mr-3">
                        <button
                            mat-icon-button
                            [matMenuTriggerFor]="listCard02Menu">
                            <mat-icon
                                class="icon-size-5"
                                [svgIcon]="'heroicons_solid:dots-vertical'"></mat-icon>
                        </button>
                        <mat-menu #listCard02Menu="matMenu">
                            <button mat-menu-item>Search for groups</button>
                        </mat-menu>
                    </div>
                </div>
                <div class="flex flex-col mt-5" *ngFor="let p of pubL">
                    <div class="flex items-center">
                        <ng-container *ngIf="p.users.picture">

                            <img
                                class="w-14 h-14 mr-4 rounded object-cover"
                                [src]="sanitizer.bypassSecurityTrustUrl('data:image/jpg;base64,'+ p.users.picture)"
                                alt="Card cover image">
                        </ng-container>
                        <ng-container *ngIf="!p.users.picture">
                            <div class="flex items-center justify-center w-12 min-w-12 h-12 rounded-full mr-4text-lg uppercase bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200">
                                {{p.users.first_name.charAt(0)}}
                            </div>
                        </ng-container>
                        <div class="flex flex-col min-w-0">
                            <div class="font-medium leading-none">{{p.users.first_name}} {{p.users.name_user}}</div>
                            <div class="text-md truncate leading-none mt-1">{{p.status}}</div>
                            <div class="text-md leading-none text-secondary mt-2">Ajoutée  le :{{p.start_date|date:'dd-MM-yyyy'}}</div>
                        </div>
                    </div>
                </div>
                <div class="flex items-center mt-6 -mx-3">
                    <button
                        class="px-3"
                        mat-button
                        [color]="'primary'"
                        [routerLink]="['/apps/acceuil']">
                        Voir tous les publications                    </button>
                </div>
            </fuse-card>








        </div>

        <!-- Column -->

        <div class="flex flex-col items-start">
        <!-- Create Post -->
            <fuse-card class="flex flex-col max-w-140 w-full p-6 sm:p-8 pb-6">
                <div class="text-xl font-semibold">Créer une demande</div>
                <br>
                    <div> <button
                                  class="px-3 mr-1 hidden sm:inline-flex"
                                  mat-button
                                  (click)="openComposeDialog()" >
                        <mat-icon
                            class="icon-size-5 mr-2"
                            [svgIcon]="'heroicons_solid:briefcase'"></mat-icon>
                        <span>Demande de prestation</span>
                    </button></div>
            </fuse-card>

            <!-- Post 1 -->
            <ng-container *ngFor="let p of demL">
                <fuse-card
                    class="flex flex-col max-w-140 w-full mt-8"
                    #expandableCard02="fuseCard">
                    <div class="flex items-center mx-6 sm:mx-8 mt-6 mb-4">
                        <ng-container *ngIf="p.user.picture">

                            <img
                                class="w-10 h-10 rounded-full mr-4"
                                [src]="sanitizer.bypassSecurityTrustUrl('data:image/jpg;base64,'+ p.user.picture)"
                                alt="Card cover image">
                        </ng-container>
                        <ng-container *ngIf="!p.user.picture">
                            <div class="flex items-center justify-center w-12 min-w-12 h-12 rounded-full mr-4text-lg uppercase bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200">
                                {{p.user.first_name.charAt(0)}}
                            </div>
                        </ng-container>
                        <div class="flex flex-col">
                            <button class="font-semibold leading-none" (click)="profilDetails(p.user.id)">
                                {{p.user.first_name}} {{p.user.name_user}}</button>
                            <span class="text-sm text-secondary leading-none mt-1">{{p.dateCreation |date:'dd-MM-yyyy' }}</span>
                        </div>

                    </div>
                    <h2 class=" sm:mx-8 mb-6 text-lg font-bold leading-none">
                        {{p.title}}
                    </h2>
                    <div class=" sm:mx-8 mt-2 ">
                        {{p.description}}
                    </div>
                    <a class="mx-6 sm:mx-8 mt-2 mb-6">
                        {{p.link}}
                    </a>
                    <div class="mx-6  sm:mx-8 text-md truncate leading-none mt-1">
                       De {{p.start_date|date:'dd-MM-yyyy'}} à {{p.closing_date|date:'dd-MM-yyyy'}}
                    </div>
<br>

                    <div class="flex items-center mx-3 sm:mx-5">
                        <div
                            class="px-3 mr-1"
                            mat-button
                           >

                        </div>
                        <div
                            class="px-3 mr-1"
                            mat-button
                            >

                        </div>
                        <button
                            class="px-3 mr-1"
                            mat-button
                            (click)="openCompetance(p.id)">
                            <mat-icon
                                class="icon-size-5 mr-2"
                                [svgIcon]="'heroicons_solid:external-link'"></mat-icon>
                            <span>Postuler</span>
                        </button>
                    </div>
                    <hr class="border-b mx-6 sm:mx-8 mt-4 mb-6">

                </fuse-card>

            </ng-container>
            <div class="flex flex-col max-w-140 w-full mt-8" >

                <button
                    class="px-3"
                    mat-button
                    [color]="'primary'"
                    (click)="show()">
                    Plus de demandes

                </button>
                <!--Scroll to top-->
            </div>
        </div>

    </div>



      <!-- demande -->
    <div class="modal fade" id="dem" tabindex="-1" role="dialog" aria-labelledby="demTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="flex flex-0 items-center justify-between h-16 pr-3 sm:pr-5 pl-6 sm:pl-8 bg-primary text-on-primary">
                    <h5 class="modal-title" id="demTitle">Créer une demande
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <br>
                <br>
                <div class="col-span-12">
                    <div class="flex flex-col gt-xs:flex-row">
                        <mat-form-field class="flex-auto gt-xs:pr-3">
                            <input
                                matInput
                                [placeholder]="'Titre'"
                                id="Titre" class="input" type="text" placeholder=" " [(ngModel)]="dem.title"/>

                        </mat-form-field>

                    </div>
                    <div class="flex flex-col gt-xs:flex-row">
                        <mat-form-field class="flex-auto gt-xs:pr-3">
                            <input
                                matInput
                                [placeholder]="'Description'"
                                id="Description" class="input" type="text" placeholder=" " [(ngModel)]="dem.description"/>

                        </mat-form-field>

                    </div>
                    <div class="flex flex-col gt-xs:flex-row">
                        <mat-form-field class="flex-auto gt-xs:pr-3">
                            <input
                                matInput
                                [placeholder]="'Link'"
                                id="link" class="input" type="text" placeholder=" " [(ngModel)]="dem.link" />

                        </mat-form-field>

                    </div>
                    <div class="flex flex-col gt-xs:flex-row">
                        <mat-form-field class="flex-auto gt-xs:pr-3">
                            <input
                                matInput
                                [placeholder]="'Duration'"
                                id="Duration" class="input" type="text" placeholder=" " [(ngModel)]="dem.duration"/>

                        </mat-form-field>

                    </div>
                    <div class="example-container">

                        <mat-form-field class="flex-auto gt-xs:pr-3">
                            <input
                                matInput
                                [matDatepicker]="birthdayDatepicker1"
                                [(ngModel)]="dem.start_date"
                                [placeholder]="'Date debut'"
                            >
                            <mat-datepicker-toggle
                                matSuffix
                                [for]="birthdayDatepicker1">
                            </mat-datepicker-toggle>
                            <style>
                                .mat-datepicker-calendar-pane {
                                    z-index: 1200;
                                }
                            </style>
                            <mat-datepicker #birthdayDatepicker1 class="mat-datepicker-calendar-pane" ></mat-datepicker>

                        </mat-form-field>

                    </div>
                    <div class="flex flex-col gt-xs:flex-row">
                        <mat-form-field class="flex-auto gt-xs:pr-3">
                            <input
                                matInput
                                [matDatepicker]="birthdayDatepicker"
                                [(ngModel)]="dem.closing_date"
                                [placeholder]="'Date fin'"
                            >
                            <mat-datepicker-toggle
                                matSuffix
                                [for]="birthdayDatepicker">
                            </mat-datepicker-toggle>
                            <mat-datepicker #birthdayDatepicker></mat-datepicker>


                        </mat-form-field>

                    </div>
                </div>
                <br>
                <div class="flex flex-col sm:flex-row sm:items-center justify-between mt-4 sm:mt-6">
                    <div class="flex items-center mt-4 sm:mt-0">
                    </div>
                    <div class="flex items-center mt-4 sm:mt-0">
                        <button
                            class="order-first sm:order-last"
                            mat-flat-button
                            [color]="'primary'"

                            data-dismiss="modal"
                        >
                            Publier
                        </button>
                    </div>

                </div>

            </div>
        </div>
    </div>
    <div>
        <buttonn class="fixed flex items-center justify-center right-0 w-10 h-10 shadow-lg rounded-l-lg z-999 cursor-pointer bg-red-600 bg-opacity-90 print:hidden"

                 *ngIf="isShow" (click)="gotoTop()"><mat-icon
            class="icon-size-5 mr-2"
            [svgIcon]="'heroicons_solid:chevron-double-up'" ></mat-icon></buttonn>
    </div>

</div>

