<div class="flex flex-col flex-auto min-w-0">

    <!-- Header -->
    <div class="flex flex-col shadow bg-card">

        <!-- Cover image -->
        <div>
            <img
                class="h-40 lg:h-80 object-cover"
                src="../../../../../assets/images/pages/profile/cover.jpg"
                alt="Cover image">
        </div>

        <!-- User info -->
        <div class="flex flex-col flex-0 lg:flex-row items-center max-w-5xl w-full mx-auto px-8 lg:h-18 bg-card">

            <!-- Avatar -->
            <div class="-mt-26 lg:-mt-22 rounded-full">
                <ng-container *ngIf="user.picture">
                    <img
                        class="w-32 h-32 rounded-full ring-4 ring-bg-card"
                        [src]="sanitizer.bypassSecurityTrustUrl('data:image/jpg;base64,'+ user.picture )"
                        alt="User avatar"/>
                </ng-container>
                <ng-container *ngIf="!user.picture">
                    <div class="flex items-center justify-center w-12 min-w-12 h-12 rounded-full mr-4text-lg uppercase bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200">
                        {{userData.first_name.charAt(0)}}
                    </div>
                </ng-container>
            </div>

            <!-- Details -->
            <div class="flex flex-col items-center lg:items-start mt-4 lg:mt-0 lg:ml-8">
                <div class="text-lg font-bold leading-none">{{user.first_name}} {{user.name_user}}</div>
                <div class="text-secondary">{{user.pays}}</div>
            </div>
            <!--Boutton test delete abonnee
            <button class="order-first sm:order-last"
                    mat-raised-button
                    [color]="buttonColor"  [disabled]="clicked"  (click)="onDelete(IDDelete); clicked = true;" >test delete abonnee
            </button>-->


            <button class="order-first sm:order-last"
                    mat-raised-button
                    [color]="buttonColor"

                    (click)="toggle()"
                    [ngClass]="{'isDisabled':etatAbonne, '' : !etatAbonne}"
                    id="btt" >{{buttonName}}


            </button>
            <!-- Stats -->
            <div class="flex items-center mt-6 lg:mt-0 space-x-6">
                <div class="flex flex-col items-center">

                </div>
                <div class="flex flex-col items-center">

                </div>
            </div>

            <!-- Menu -->
            <div class="flex items-center mt-8 mb-4 lg:m-0 lg:ml-auto space-x-6">


            </div>

        </div>

    </div>

    <!-- Main -->
    <div class="flex flex-auto justify-center w-full max-w-5xl mx-auto p-6 sm:p-8">

        <!-- Column -->
        <div class="hidden lg:flex flex-col items-start mr-8">

            <!-- About me -->
            <fuse-card class="flex flex-col max-w-80 w-full p-8"
                       [flippable]="true"
                       [face]="'front'"
                       #flippableCard01="fuseCard">

                <ng-container fuseCardFront >
                    <div class="flex flex-col l-120 flex- items-center bg-card shadow rounded-xl overflow-hidden">
                        <div class="flex flex-col flex-auto l-120 w-full p-8 text-center">

                            <button
                                class="px-3"
                                mat-button
                                [color]="'primary'"
                                (click)="flippableCard01.face = flippableCard01.face === 'front' ? 'back' : 'front'">
                                A propos de moi
                            </button>




                            <div class="mt-6 font-medium">{{user.first_name}} {{user.name_user}}</div>

                            <div class="mt-4 h-28">
                                {{user.description}} </div>
                            <hr class="w-full border-t my-6">
                            <div class="flex items-center">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:location-marker'"></mat-icon>
                                <span class="leading-none">{{user.pays}}</span>
                            </div>
                            <div class="flex items-center mt-4">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:briefcase'"></mat-icon>
                                <span class="leading-none">{{user.title}}</span>
                            </div>



                        </div>

                    </div>
                </ng-container>
                <ng-container fuseCardBack >
                    <div class="flex flex-col h-200 items-center bg-card shadow rounded-xl overflow-hidden">
                        <div class="flex flex-col h-auto w-full p-8 text-center">

                            <button
                                class="ml-1.5"
                                mat-icon-button
                                (click)="flippableCard01.face = flippableCard01.face === 'front' ? 'back' : 'front'">
                                <mat-icon [svgIcon]="'heroicons_outline:arrow-narrow-left'"></mat-icon>
                            </button>



                            <div class="w-10 h-10 mx-auto rounded-full overflow-hidden">
                                <ng-container *ngIf="user.picture">
                                    <img
                                        class="object-cover w-full h-full"
                                        [src]="sanitizer.bypassSecurityTrustUrl('data:image/jpg;base64,'+ user.picture )"
                                        alt=""/>
                                </ng-container>
                                <ng-container *ngIf="!user.picture">
                                    <div class="flex items-center justify-center w-full h-full rounded-full text-lg uppercase bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200">
                                        {{user.first_name.charAt(0)}}
                                    </div>
                                </ng-container>
                            </div>
                            <div class="mt-6 font-medium">{{user.first_name}} {{user.name_user}}</div>

                            <hr class="w-full border-t my-6">
                            <div class="flex items-center">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:location-marker'"></mat-icon>
                                <span class="leading-none">{{user.pays}}</span>
                            </div>
                            <div class="flex items-center mt-4">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:briefcase'"></mat-icon>
                                <span class="leading-none">{{user.title}}</span>
                            </div>
                            <div class="flex items-center mt-4">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:cake'"></mat-icon>
                                <span class="leading-none">{{user.date_birth|date:'dd-MM-yyyy'}}</span>
                            </div>
                            <div class="flex items-center mt-4">
                                <mat-icon
                                    class="icon-size-5 mr-3"
                                    [svgIcon]="'heroicons_solid:mail'"></mat-icon>
                                <span class="leading-none">{{user.email}}</span>
                            </div>  <div class="flex items-center mt-4">
                            <mat-icon
                                class="icon-size-5 mr-3"
                                [svgIcon]="'heroicons_solid:phone'"></mat-icon>
                            <span class="leading-none">{{user.phone}}</span>
                        </div>  <div class="flex items-center mt-4">
                            <mat-icon
                                class="icon-size-5 mr-3"
                                [svgIcon]="'heroicons_solid:user-circle'"></mat-icon>
                            <span class="leading-none">{{user.gender}}</span>
                        </div>  <div class="flex items-center mt-4">
                            <mat-icon
                                class="icon-size-5 mr-3"
                                [svgIcon]="'heroicons_solid:user-circle'"></mat-icon>
                            <span class="leading-none">{{user.age}}</span>
                        </div>

                        </div>

                    </div>
                </ng-container>

            </fuse-card>
            <!-- Demandes -->

            <!-- Membres -->

            <!-- Gallery -->
            <fuse-card class="flex flex-col max-w-80 w-full mt-8 px-8 pt-6 pb-4">
                <div class="flex items-center justify-between">
                    <div class="text-2xl font-semibold leading-tight">Gallery</div>

                </div>
                <div class="flex " >
                    <div class="flex flex-row justify-between mt-10" *ngFor="let i of pubL" >
                        <img *ngIf="i.image"
                             class="w-14 h-14 rounded object-cover"
                             [src]="sanitizer.bypassSecurityTrustUrl('data:image/jpg;base64,'+ i.image )"
                             alt="Card cover image"/>

                    </div>

                </div>

            </fuse-card>


        </div>

        <!-- Column -->
        <div class="flex flex-col items-start">

            <!-- Create Post -->

            <!-- Post 1 -->
            <ng-container *ngFor="let p of pubL">
                <fuse-card
                    class="flex flex-col max-w-140 w-full mt-8"
                    #expandableCard02="fuseCard">
                    <div class="flex items-center mx-6 sm:mx-8 mt-6 mb-4">
                        <ng-container *ngIf="user.picture">
                            <img
                                class="w-10 h-10 rounded-full mr-4"
                                [src]="sanitizer.bypassSecurityTrustUrl('data:image/jpg;base64,'+ user.picture )"
                                alt="Card cover image"/>
                        </ng-container>
                        <ng-container *ngIf="!user.picture">
                            <div class="flex items-center justify-center w-12 min-w-12 h-12 rounded-full mr-4text-lg uppercase bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200">
                                {{user.first_name.charAt(0)}}
                            </div>
                        </ng-container>
                        <div class="flex flex-col">
                            <span class="font-semibold leading-none">{{user.first_name}}</span>
                            <span class="text-sm text-secondary leading-none mt-1">{{p.start_date |date:'dd-MM-yyyy' }}</span>
                        </div>

                    </div>
                    <div class="mx-6 sm:mx-8 mt-2 mb-6">
                        {{p.status}}
                    </div>
                    <div class="flex mx-6 sm:mx-8 mb-4">
                        <div class="flex h-80 pr-1" *ngIf="p.video">
                            <video width="500" height="300" controls="controls"


                                   alt=""> <source [src]="sanitizer.bypassSecurityTrustUrl('data:image/jpg;base64,'+ p.video )" type="video/mp4"></video>
                        </div>
                        <div class="flex h-80 pr-1" *ngIf="p.image">

                            <img  controls="controls"
                                  [src]="sanitizer.bypassSecurityTrustUrl('data:image/jpg;base64,'+ p.image )"
                                  alt=""/>
                        </div>
                    </div>


                </fuse-card>

            </ng-container>
            <div class="flex flex-col max-w-140 w-full mt-8" >

                <button
                    class="px-3"
                    mat-button
                    [color]="'primary'"
                    (click)="show()">
                    Plus de publications

                </button>
                <!--Scroll to top-->
            </div>
        </div>

    </div>

    <div>
        <buttonn class="fixed flex items-center justify-center right-0 w-10 h-10 shadow-lg rounded-l-lg z-999 cursor-pointer bg-red-600 bg-opacity-90 print:hidden"

                 *ngIf="isShow" (click)="gotoTop()"><mat-icon
            class="icon-size-5 mr-2"
            [svgIcon]="'heroicons_solid:chevron-double-up'" ></mat-icon></buttonn>
    </div>


</div>

